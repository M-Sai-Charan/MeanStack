<div *ngIf="!isLinkExpired" class="wedding-template-container">
  <h1>{{ enquiry?.Bride }} <span class="heart">❤️</span> {{ enquiry?.Groom }}</h1>

  <div class="section" style="position: relative;">
    <div class="template-logo" class="about-logo">
      <img src="/olp-logo.png" alt="Logo" style="width: 100px;" />
    </div>
  </div>

  <div class="section">
    <div class="details-grid">
      <p><strong>Location:</strong> {{ enquiry?.Location }}</p>
      <p><strong>Contact:</strong> {{ enquiry?.ContactNumber }}</p>
      <p><strong>Email:</strong> {{ enquiry?.Email }}</p>
      <p><strong>OLPID:</strong> {{ enquiry?.OLPID }}</p>
    </div>
  </div>

  <div class="section about">
    <h2>About Us</h2>
    <p>
      We are passionate photographers, dedicated to creating the finest memories and giving emotional value to your
      special day. From haldi to reception, we preserve your moments with artistic storytelling.
    </p>
  </div>

  <div class="section">
    <h2>Our Work</h2>
    <div id="wrapper">
      <div id="top-oval"></div>
      <div id="strip-w">
        <div id="strip-track">
          <div class="strip-item" *ngFor="let img of galleryImages.concat(galleryImages)"
            [ngStyle]="{ 'background-image': 'url(' + img + ')' }"></div>
        </div>
      </div>
      <div id="bottom-oval"></div>
    </div>
  </div>

  <div class="section">
    <h2>Events</h2>
    <div class="event-grid">
      <div class="event-card" *ngFor="let event of enquiry?.Events">
        <div class="event-header">
          <h4>{{ event.EventName }}</h4>
          <div class="event-detail"><i class="pi pi-calendar"></i> {{ event.EventDate | date:'mediumDate' }}</div>
          <div class="event-detail"><i class="pi pi-clock"></i> {{ event.EventTime }}</div>
          <div class="event-detail"><i class="pi pi-map-marker"></i> {{ event.EventLocation }}</div>
          <div class="event-detail"><i class="pi pi-users"></i> {{ event.EventGuests }} Guests</div>
          <div class="event-price">₹ {{ event.FinalApprovedAmount | number }}</div>
        </div>
      </div>
    </div>

  </div>

  <div class="section total">
    <!-- <h3>Grand Total:</h3> -->
    <button class="total-btn">₹ {{ animatedTotal }}</button>
  </div>

  <div class="section">
    <h2>Terms & Conditions</h2>
    <ul class="terms">
      <li>50% advance payment required.</li>
      <li>Final payment before delivery.</li>
      <li>Travel & stay not included (if outstation).</li>
      <li>This estimate is valid for 48 hours only.</li>
    </ul>
  </div>

  <div class="button-row">
    <button class="btn-approve" (click)="approveEstimate()">Approve Estimate</button>
    <button class="btn-reject" (click)="rejectEstimate()">Request Changes</button>
  </div>
  <div *ngIf="!isLinkExpired" class="countdown-wrapper">
    <p class="countdown-text">
      ⏳ This link expires in
      <span class="highlight">{{ remainingTime }}</span>
    </p>

    <div class="progress-outer">
      <div class="progress-inner" [ngStyle]="{ width: remainingPercentage + '%' }"
        [ngClass]="{ 'critical': remainingPercentage <= 25 }"></div>
    </div>
  </div>
</div>
<div *ngIf="isLinkExpired" class="expiry-warning">
  <section class="page_404">
    <div class="container">
      <div class="row">
        <div class="col-sm-12 ">
          <div class="col-sm-10 col-sm-offset-1  text-center">
            <div class="four_zero_four_bg">
              <h1 class="text-center ">404</h1>
            </div>
            <div class="contant_box_404">
              <h3 class="h2">Look's like link expired</h3>
              <p>the page you are looking for not available!</p>
              <a href="https://www.instagram.com/onelookphotography_/?hl=en" target="_blank" class="link_404">Contact Us</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>